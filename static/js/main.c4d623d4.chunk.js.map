{"version":3,"sources":["store/index.js","Score.js","Timer.js","Mole.js","Hole.js","HoleList.js","Header.js","LeaderBoard.js","Input.js","App.js","reportWebVitals.js","index.js"],"names":["INITIAL_STATE","score","holeIndex","start","store","createStore","state","action","type","Score","props","className","Timer","time","useState","secondsLeft","setTimeLeft","useSelector","dispatch","useDispatch","useEffect","document","querySelector","classList","toggle","boolean","countDown","setTimeout","clearInterval","Mole","onClick","e","stopPropagation","console","log","mole","currentTarget","hit","childNodes","remove","add","Hole","React","forwardRef","ref","index","HoleList","holes","useRef","randomHole","idx","Math","floor","random","length","peep","min","max","hole","current","setLastHoleIndex","Array","fill","map","Header","handleClick","leaderBoard","target","textContent","LeaderBoard","userDatas","JSON","parse","localStorage","getItem","sort","a","b","data","id","Input","onSubmit","preventDefault","value","push","setItem","stringify","reset","App","buttonRef","startGame","stopGame","querySelectorAll","page","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c4d623d4.chunk.js","sourcesContent":["import { createStore } from 'redux';\r\n\r\nconst INITIAL_STATE = {\r\n  score: 0,\r\n  holeIndex: -1,\r\n  start: false,\r\n}\r\n\r\nfunction tasks(state = INITIAL_STATE, action) {\r\n    // console.log('current state: ', state);\r\n    // console.log('Action: ', action);\r\n  switch (action.type) {\r\n    case 'INCREASE_SCORE':\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tscore: state.score + 1\r\n        }\r\n\r\n\tcase 'SET_HOLE_INDEX':\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tholeIndex: action.holeIndex\r\n        }\r\n\r\n    case 'SET_START':\r\n        return {\r\n            ...state,\r\n\t\t\tstart: action.start\r\n        }\r\n\r\n    case 'SET_INITIAL_STATE':\r\n        return {\r\n            ...INITIAL_STATE,\r\n            start: true,\r\n        };\r\n\tdefault:\r\n\t\treturn state;\r\n  }\r\n}\r\n\r\nconst store = createStore(tasks);\r\n\r\nexport default store;","import React from 'react';\r\n\r\nconst Score = props => {\r\n    const { score } = props\r\n    return (\r\n        <span className=\"score\">Score: {score}</span>\r\n    )\r\n}\r\n\r\nexport default Score;","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst setStart = (boolean) => {\r\n    return { type: 'SET_START', start: boolean }\r\n}\r\n  \r\n\r\nconst Timer = (props) => {\r\n    const { time } = props;\r\n    const [ secondsLeft, setTimeLeft] = useState(time);\r\n    const { start, score } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        if (!secondsLeft) {\r\n            document.querySelector('.name-input-div').classList.toggle('active');\r\n            dispatch(setStart(false));\r\n            return;\r\n        }\r\n        let countDown = setTimeout(() => {\r\n            setTimeLeft(secondsLeft => secondsLeft - 1);\r\n        }, 1000);\r\n        return () => clearInterval(countDown);\r\n    }, [secondsLeft]);\r\n\r\n    return (\r\n        <span>{start ? `${secondsLeft}`: ' '}</span>\r\n    )\r\n}\r\n\r\nexport default Timer;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst increaseScore = () => {\r\n    return { type: 'INCREASE_SCORE'}\r\n}\r\n\r\nconst Mole = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClick = e => {\r\n        e.stopPropagation();\r\n        console.log(e);\r\n        const mole = e.currentTarget;\r\n        const hit = e.currentTarget.childNodes[0];\r\n        mole.classList.remove('up');\r\n        hit.classList.add('active');\r\n        setTimeout(() => hit.classList.remove('active'), 100);\r\n        dispatch(increaseScore());\r\n    }\r\n    return (\r\n        <div className=\"mole\" onClick={handleClick}>\r\n            <div className=\"hit\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Mole;","import React from 'react';\r\nimport Mole from './Mole';\r\n\r\nconst Hole = React.forwardRef((props, ref) => {\r\n    const { index } = props;\r\n\r\n    return (\r\n        <div ref={ref} className={`hole hole${index}`}>\r\n            <Mole />\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Hole;","import React, { useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Hole from './Hole';\r\n\r\nconst setLastHoleIndex = (holeIndex) => {\r\n    return { type: 'SET_HOLE_INDEX', holeIndex }\r\n}\r\n\r\nconst HoleList = () => {\r\n    const holes = [\r\n        useRef(),\r\n        useRef(),\r\n        useRef(),\r\n        useRef(),\r\n        useRef(),\r\n        useRef()\r\n    ];\r\n\r\n    const { start, holeIndex }= useSelector(state => state);\r\n    const dispatch = useDispatch(); \r\n    const holeCount = 6;\r\n\r\n    const randomTime = (min, max) => {\r\n        const time = Math.random() * (max - min) + min;\r\n        return time;\r\n      }\r\n    \r\n    const randomHole = (holes) => {\r\n        const idx = Math.floor(Math.random() * holes.length);\r\n        if (idx === holeIndex) {\r\n            return randomHole(holes);\r\n        }\r\n        return idx;\r\n    }\r\n\r\n    const peep = () => {\r\n        const time = randomTime(200, 1000);\r\n        const index = randomHole(holes);\r\n        const hole = holes[index].current;\r\n        hole.classList.add('up');    \r\n        setTimeout(() => {\r\n          hole.classList.remove('up');\r\n          dispatch(setLastHoleIndex(index));\r\n        }, time);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (start) {\r\n            peep();\r\n        }\r\n    }, [holeIndex, start]);\r\n\r\n    return (\r\n        <div className='hole-list'>\r\n            {Array(holeCount).fill('').map((hole, index) => \r\n                <Hole ref={holes[index]} key={index} index={index} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HoleList;","import React from 'react';\r\n\r\nconst Header = () => {\r\n\r\n    const handleClick = (e) => {\r\n        e.stopPropagation();\r\n        const leaderBoard = document.querySelector('.leaderboard');\r\n        switch (e.target.textContent) {\r\n            case 'LEADERBOARD':\r\n                leaderBoard.classList.toggle('active');\r\n                break;\r\n\r\n            case 'WHACK A MOLE!':\r\n                leaderBoard.classList.remove('active');\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"App-header\">\r\n            <ul>\r\n                <li className=\"logo\" onClick={handleClick}>WHACK A MOLE!</li>\r\n                <li onClick={handleClick}>LEADERBOARD</li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst LeaderBoard = () => {\r\n    const userDatas = JSON.parse(localStorage.getItem('userData')) || [];\r\n    return (\r\n        <div className=\"leaderboard\">\r\n            <header><h1>LEADERBOARD</h1></header>\r\n                <div>\r\n                    <div>Rank</div>\r\n                    <div>Name</div>\r\n                    <div>Score</div>\r\n                </div>\r\n                <hr/>\r\n                {userDatas.sort((a, b) => b.score - a.score)\r\n                    .map((data, index) => {\r\n                        return (\r\n                            <div key={`${index}${data.id}${data.index}`}>\r\n                                <div>{index + 1}</div>\r\n                                <div>{data.id}</div>\r\n                                <div>{data.score}</div>\r\n                            </div>\r\n                        )\r\n                })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LeaderBoard;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst setStart = (boolean) => {\r\n    return { type: 'SET_START', start: boolean }\r\n}\r\n\r\nconst Input = () => {\r\n    const { score } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const id = e.target.querySelector('input').value;\r\n        const userDatas = JSON.parse(localStorage.getItem('userData')) || [];\r\n        userDatas.push({ id, score });\r\n        localStorage.setItem('userData', JSON.stringify(userDatas));\r\n        \r\n        e.target.reset();\r\n        document.querySelector('.name-input-div').classList.toggle('active');\r\n        dispatch(setStart(false));\r\n        document.querySelector('.leaderboard').classList.toggle('active');\r\n    }\r\n\r\n    return(\r\n        <div className=\"name-input-div\">\r\n            <span>Your Name</span>\r\n            <form onSubmit={handleSubmit}>\r\n                <input type=\"text\"/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input;","import React, { useRef, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Score from './Score';\nimport Timer from './Timer';\nimport HoleList from './HoleList';\nimport Header from './Header';\nimport './App.scss';\nimport LeaderBoard from './LeaderBoard';\nimport Input from './Input';\n\nconst setStateToInit = () => {\n  return { type: 'SET_INITIAL_STATE'};\n}\n\nconst setStart = (boolean) => {\n  return { type: 'SET_START', start: boolean }\n}\n\nfunction App() {\n  const { score, start }= useSelector(state => state);\n  const totalSeconds = 10;\n  const dispatch = useDispatch();\n  \n  let buttonRef = useRef(null);\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n    let text = e.target.textContent;\n    if (text === 'START!') {\n      e.target.textContent = \"STOP!\";\n      startGame();\n    } else {\n      e.target.textContent = \"START!\";\n      stopGame();\n    }\n  }\n\n  const hideOtherPages = (e) => {\n    const otherPages = [...e.target.querySelectorAll('.leaderboard')];\n    otherPages.map(page => {\n      page.classList.remove('active');\n    })\n  }\n\n  const startGame = () => {\n    console.log('start!')\n    dispatch(setStateToInit());\n  }\n\n  const stopGame = () => {\n    console.log('stop!');\n    dispatch(setStart(false));\n  }\n\n  return (\n      <div className=\"App\" onClick={hideOtherPages}>\n        <Header/>\n        <div className=\"game\">\n          <div className=\"game-info\">\n            <div className=\"timer-div\">\n              {start ? <Timer time={totalSeconds}/> : ''}\n            </div>\n            <div className=\"score-div\">\n              <Score score={score} />\n            </div>\n          </div>\n          <HoleList/>\n          <button ref={buttonRef} onClick={handleClick}>{start ? \"STOP!\" : \"START!\"}</button>\n        </div>\n        <LeaderBoard/>\n        <Input/>\n      </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}