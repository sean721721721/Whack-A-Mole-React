{"version":3,"sources":["store/index.js","Score.js","Mole.js","Hole.js","App.js","reportWebVitals.js","index.js"],"names":["INITIAL_STATE","score","holeIndex","store","createStore","state","action","type","Score","props","className","Mole","dispatch","useDispatch","onClick","e","console","log","Hole","React","forwardRef","ref","index","timeup","App","useSelector","timeout","holes","useRef","randomHole","idx","Math","floor","random","length","peep","min","max","time","hole","current","classList","add","setLastHoleIndex","setTimeout","remove","startGame","stopGame","clearTimeout","useEffect","Array","fill","map","target","textContent","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3dd6c310.chunk.js","sourcesContent":["import { createStore } from 'redux';\r\n\r\nconst INITIAL_STATE = {\r\n  score: 0,\r\n  holeIndex: 0,\r\n}\r\n\r\nfunction tasks(state = INITIAL_STATE, action) {\r\n    // console.log('current state: ', state);\r\n    // console.log('Action: ', action);\r\n  switch (action.type) {\r\n    case 'INCREASE_SCORE':\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tscore: state.score + 1\r\n        }\r\n\r\n\tcase 'SET_HOLE_INDEX':\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tholeIndex: action.holeIndex\r\n        }\r\n\r\n    case 'SET_INITIAL_STATE':\r\n        return INITIAL_STATE;\r\n\tdefault:\r\n\t\treturn state;\r\n  }\r\n}\r\n\r\nconst store = createStore(tasks);\r\n\r\nexport default store;","import React from 'react';\r\n\r\n\r\nconst Score = props => {\r\n    const { score } = props\r\n    return (\r\n        <span className=\"score\">{score}</span>\r\n    )\r\n}\r\n\r\nexport default Score;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst increaseScore = () => {\r\n    return { type: 'INCREASE_SCORE'}\r\n}\r\n\r\nconst Mole = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClick = e => {\r\n        console.log(e);\r\n        dispatch(increaseScore());\r\n    }\r\n    return (\r\n        <div className=\"mole\" onClick={handleClick}>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Mole;","import React, { useEffect, useRef } from 'react';\r\nimport Mole from './Mole';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst Hole = React.forwardRef((props, ref) => {\r\n    const { index } = props;\r\n\r\n    return (\r\n        <div ref={ref} className={`hole hole${index}`}>\r\n            <Mole />\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Hole;","import React, { useRef, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Score from './Score';\nimport Hole from './Hole';\nimport './App.scss';\n\nconst setStateToInit = () => {\n  return { type: 'SET_INITIAL_STATE'};\n}\n\nconst setLastHoleIndex = (holeIndex) => {\n  return { type: 'SET_HOLE_INDEX', holeIndex }\n}\n\nlet timeup = true;\nconsole.log(timeup);\n\nfunction App() {\n  const { score, holeIndex }= useSelector(state => state);\n  console.log({ score, holeIndex })\n  const holeCount = 6;\n  let timeout;\n  const dispatch = useDispatch();\n  console.log(timeup);\n  \n  let holes = [useRef(),useRef(),useRef(),useRef(),useRef(),useRef()];\n  // let holes = useRef([]);\n  // holes.current = [...Array(holeCount).fill()];\n\n  const randomTime = (min, max) => {\n    const time = Math.random() * (max - min) + min;\n    return time;\n  }\n\n  const randomHole = (holes) => {\n    const idx = Math.floor(Math.random() * holes.length);\n    if (idx === holeIndex) {\n      console.log('the same one');\n      return randomHole(holes);\n    }\n    return idx;\n  }\n\n  const peep = () => {\n    console.log('peep!');\n    const time = randomTime(200, 1000);\n    const index = randomHole(holes);\n    const hole = holes[index].current;\n    hole.classList.add('up');\n    dispatch(setLastHoleIndex(holeIndex));\n    console.log('set hole index completed')\n    setTimeout(() => {\n      hole.classList.remove('up');\n      console.log('timeUp in peep(): ', timeup);\n      if (!timeup) peep();\n    }, time);\n  }\n  const handleClick = (e) => {\n    let text = e.target.textContent;\n    if (text === 'Start!') {\n      e.target.textContent = \"Stop!\";\n      startGame();\n    } else {\n      console.log('stop!')\n      e.target.textContent = \"Start!\";\n      stopGame();\n    }\n\n  }\n  const startGame = () => {\n    console.log('start!')\n    console.log('set init');\n    dispatch(setStateToInit());\n    timeup = false;\n    peep();\n    timeout = setTimeout(() => {\n      console.log(\"time's up\");\n      timeup = true\n    }, 10000);\n  }\n\n  const stopGame = () => {\n    console.log('stop!');\n    timeup = true;\n    clearTimeout(timeout);\n  }\n\n  useEffect(() => {\n    console.log('userEffect');\n  })\n\n  return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>WHACK A MOLE! <Score score={score} /></h1>\n        </header>\n        <div className=\"game\">\n          {Array(holeCount).fill('').map((hole, index) => \n            <Hole ref={holes[index]} index={index} />\n          )}\n        </div>\n        <button onClick={handleClick}>{timeup ? \"Start!\" : \"Stop!\"}</button>\n      </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}